<!DOCTYPE html>
<html>
<head>
  <title>Upload</title>
</head>
<body>
  <h2>Upload file</h2>
  <input type="file" id="fileInput">
  <button onclick="upload()">Upload</button>
  <p id="status"></p>

  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBlpU7jfFgvC9X2_KNW-gOJb8AodWI9VS4",
      authDomain: "gggg-9cc8d.firebaseapp.com",
      projectId: "gggg-9cc8d",
      storageBucket: "gggg-9cc8d.firebasestorage.app",
      messagingSenderId: "897194810694",
      appId: "1:897194810694:web:287162682bd15ed88bd947",
      measurementId: "G-H0Q2N1RGPJ"
    };

    firebase.initializeApp(firebaseConfig);
    const storage = firebase.storage();

    function upload() {
      let file = document.getElementById("fileInput").files[0];
      if (!file) return alert("Choose a file yo ðŸ˜­");

      let ref = storage.ref("shared/" + file.name);
      let task = ref.put(file);

      task.on("state_changed",
        () => {},
        (err) => document.getElementById("status").innerText = "Error: " + err,
        () => {
          task.snapshot.ref.getDownloadURL().then(url => {
            document.getElementById("status").innerHTML = `
              Uploaded!<br>
              Share this link:<br>
              <a href="${url}" target="_blank">${url}</a>
            `;
          });
        }
      );
    }
  </script>
</body>
</html>
